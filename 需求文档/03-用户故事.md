# 用户故事

## 1. 普通用户故事

### 1.1 内容消费者

#### 故事 1：快速查看分享的卡片
**作为** 内容消费者  
**我想要** 双击 .card 文件就能快速打开并查看内容  
**以便于** 我不需要安装复杂的软件就能查看他人分享的卡片

**验收标准**：
- 双击 .card 文件后，查看器在 2 秒内启动
- 卡片内容自动渲染并展示
- 支持所有基础卡片类型的查看
- 界面简洁，无需学习即可使用

**优先级**：高

---

#### 故事 2：浏览个人卡片库
**作为** 内容消费者  
**我想要** 在查看器中浏览我保存的所有卡片  
**以便于** 快速找到和查看我需要的内容

**验收标准**：
- 可以打开箱子文件夹查看所有卡片
- 支持网格、列表等多种浏览模式
- 可以按名称、时间、类型排序
- 可以通过关键词搜索卡片
- 点击卡片缩略图即可打开查看

**优先级**：高

---

#### 故事 3：全屏沉浸式查看
**作为** 内容消费者  
**我想要** 全屏查看卡片内容，隐藏所有工具栏  
**以便于** 获得沉浸式的阅读或观看体验

**验收标准**：
- 按 F11 或点击全屏按钮进入全屏模式
- 全屏模式下自动隐藏工具栏和侧边栏
- 鼠标移到屏幕边缘时显示必要控件
- 可以快捷键（ESC）退出全屏
- 全屏模式下保持良好的性能

**优先级**：中

---

#### 故事 4：查看多媒体内容
**作为** 内容消费者  
**我想要** 在卡片中流畅地播放视频和音乐  
**以便于** 获得良好的多媒体体验

**验收标准**：
- 支持常见视频格式（MP4、WebM、MOV 等）
- 支持常见音频格式（MP3、FLAC、WAV 等）
- 播放控制齐全（播放/暂停、进度、音量、速度）
- 支持字幕显示和歌词显示
- 4K 视频播放流畅，CPU 占用合理

**优先级**：高

---

### 1.2 移动端用户

#### 故事 5：手机上查看卡片
**作为** 移动端用户  
**我想要** 在手机上流畅地查看卡片内容  
**以便于** 随时随地访问我的内容

**验收标准**：
- 界面自动适配手机屏幕尺寸
- 支持触控手势（滑动、捏合、双击）
- 竖屏和横屏都有良好体验
- 启动快速，内存占用低
- 文字大小合适，易于阅读

**优先级**：高

---

#### 故事 6：离线查看卡片
**作为** 移动端用户  
**我想要** 在没有网络的情况下也能查看本地卡片  
**以便于** 在通勤或旅行时查看内容

**验收标准**：
- 所有本地卡片都可以离线查看
- 不依赖网络连接加载内容
- 多媒体内容可以本地播放
- 性能不受网络状态影响

**优先级**：中

---

### 1.3 团队成员

#### 故事 7：查看团队共享的知识卡片
**作为** 团队成员  
**我想要** 快速查看团队共享的知识库卡片  
**以便于** 学习和参考团队积累的知识

**验收标准**：
- 可以打开团队共享目录中的卡片
- 支持查看卡片的作者和更新时间
- 可以查看卡片的历史版本（如果有）
- 支持按标签筛选相关卡片
- 可以收藏常用卡片

**优先级**：中

---

#### 故事 8：会议中演示卡片
**作为** 团队成员  
**我想要** 在会议中向同事演示卡片内容  
**以便于** 更好地表达我的想法

**验收标准**：
- 支持全屏演示模式
- 可以快速切换不同卡片
- 支持缩放和高亮重点内容
- 界面简洁专业，适合投影
- 可以使用快捷键控制演示

**优先级**：中

---

## 2. 高级用户故事

### 2.1 创作者

#### 故事 9：预览编辑的卡片效果
**作为** 内容创作者  
**我想要** 在编辑器中快速切换到查看模式预览效果  
**以便于** 查看最终的呈现效果

**验收标准**：
- 编辑器中点击"锁定"按钮切换到查看模式
- 查看模式下禁用所有编辑功能
- 显示效果与独立查看器完全一致
- 可以快速切换回编辑模式
- 切换过程流畅无延迟

**优先级**：高

---

#### 故事 10：测试不同主题效果
**作为** 内容创作者  
**我想要** 快速切换不同主题查看卡片效果  
**以便于** 确保卡片在各种主题下都有良好表现

**验收标准**：
- 可以在设置中快速切换主题
- 主题切换实时生效，无需重启
- 支持预览所有内置主题
- 可以导入自定义主题进行测试
- 主题切换有平滑过渡动画

**优先级**：低

---

### 2.2 专业用户

#### 故事 11：使用专业播放器查看视频
**作为** 视频爱好者  
**我想要** 安装专业的视频播放器插件  
**以便于** 获得更好的视频播放体验和更多控制选项

**验收标准**：
- 可以从插件市场搜索和安装视频播放器插件
- 安装后可以在设置中将其设为默认播放器
- 打开视频卡片时自动使用新的播放器
- 可以临时切换回系统默认播放器
- 支持播放器的高级功能（如帧步进、视频效果）

**优先级**：中

---

#### 故事 12：使用高级代码查看器
**作为** 程序员  
**我想要** 安装支持更多功能的代码查看器插件  
**以便于** 更方便地查看和分析代码卡片

**验收标准**：
- 可以安装支持代码智能提示的查看器插件
- 支持符号跳转和引用查找
- 支持多种代码高亮主题
- 可以查看代码的 Git 历史（如果有）
- 性能良好，支持大文件查看

**优先级**：中

---

### 2.3 企业用户

#### 故事 13：统一团队的查看标准
**作为** IT 管理员  
**我想要** 为团队部署统一配置的查看器  
**以便于** 确保所有成员使用相同的查看标准

**验收标准**：
- 可以导出查看器的配置文件
- 可以批量部署查看器及其配置
- 可以锁定某些设置防止用户修改
- 可以远程更新查看器版本
- 支持企业级的日志和监控

**优先级**：低

---

#### 故事 14：查看只读权限的卡片
**作为** 企业用户  
**我想要** 确保某些卡片只能查看不能编辑  
**以便于** 保护重要文档不被误修改

**验收标准**：
- 支持识别只读权限的卡片
- 只读卡片在查看器中显示但无法编辑
- 尝试在编辑器中打开时提示权限不足
- 可以复制内容但不能修改原文件
- 权限管理与文件系统集成

**优先级**：中

---

## 3. 开发者故事

### 3.1 插件开发者

#### 故事 15：开发自定义查看工具插件
**作为** 插件开发者  
**我想要** 开发一个自定义的文件查看工具插件  
**以便于** 为用户提供特定格式文件的专业查看体验

**验收标准**：
- 提供完整的插件开发文档和 API 参考
- 提供插件模板和示例代码
- 插件开发工具链完善（调试、测试、打包）
- 插件可以本地测试后发布到市场
- 插件更新流程简单

**优先级**：高

---

#### 故事 16：调试查看工具插件
**作为** 插件开发者  
**我想要** 方便地调试我开发的查看工具插件  
**以便于** 快速定位和解决问题

**验收标准**：
- 提供开发者模式，显示详细日志
- 支持热重载，修改代码后自动刷新
- 可以使用 Chrome DevTools 调试插件
- 提供插件性能分析工具
- 提供插件测试框架

**优先级**：中

---

### 3.2 应用开发者

#### 故事 17：集成查看器到自己的应用
**作为** 应用开发者  
**我想要** 将 Chips 查看器集成到我的应用中  
**以便于** 让用户在我的应用内查看卡片内容

**验收标准**：
- 提供 SDK 或嵌入式组件
- 支持通过 API 控制查看器
- 可以自定义查看器的界面和行为
- 文档完整，示例代码丰富
- 技术支持和社区活跃

**优先级**：高（与 SDK 相关）

---

#### 故事 18：自定义查看器外观
**作为** 应用开发者  
**我想要** 自定义查看器的外观以匹配我的应用风格  
**以便于** 提供一致的用户体验

**验收标准**：
- 可以通过配置修改查看器的颜色、字体等
- 可以隐藏或重新排列 UI 元素
- 可以注入自定义 CSS 样式
- 可以替换图标和 Logo
- 支持完全自定义主题

**优先级**：中

---

## 4. 边界场景故事

### 4.1 性能相关

#### 故事 19：查看超大卡片文件
**作为** 用户  
**我想要** 流畅地查看包含大量内容的大型卡片  
**以便于** 不受文件大小限制地使用查看器

**验收标准**：
- 支持打开 100MB+ 的卡片文件
- 使用增量加载和虚拟滚动技术
- 内存占用控制在合理范围（< 1GB）
- 滚动和交互保持流畅（60fps）
- 显示加载进度，不假死

**优先级**：中

---

#### 故事 20：低配设备上流畅运行
**作为** 低配设备用户  
**我想要** 在我的旧设备上也能流畅使用查看器  
**以便于** 不需要升级硬件就能查看卡片

**验收标准**：
- 在低配设备上（4GB RAM）可用
- 提供性能模式，减少视觉效果
- 自动降低渲染质量以保证流畅度
- 启动时间仍然 < 3 秒
- 基础功能不受影响

**优先级**：中

---

### 4.2 兼容性相关

#### 故事 21：查看旧版本卡片
**作为** 用户  
**我想要** 查看器能打开很早之前创建的卡片文件  
**以便于** 访问我的历史内容

**验收标准**：
- 支持所有历史版本的卡片格式
- 旧版本卡片自动转换为新格式查看
- 不支持的功能优雅降级
- 提示用户卡片版本信息
- 可选升级卡片格式

**优先级**：中

---

#### 故事 22：处理损坏的卡片文件
**作为** 用户  
**我想要** 查看器能处理损坏或不完整的卡片文件  
**以便于** 尽可能恢复和查看文件内容

**验收标准**：
- 检测到文件损坏时给出明确提示
- 尝试解析和显示可恢复的部分内容
- 提供文件修复建议或工具
- 不会因为损坏文件而崩溃
- 记录错误日志供技术支持分析

**优先级**：低

---

### 4.3 网络相关

#### 故事 23：查看包含网络资源的卡片
**作为** 用户  
**我想要** 查看包含网络图片或视频的卡片  
**以便于** 访问在线内容

**验收标准**：
- 支持加载网络资源（图片、视频等）
- 显示加载进度和状态
- 网络资源加载失败时显示占位符
- 可以重试加载失败的资源
- 支持资源缓存，减少重复加载

**优先级**：中

---

#### 故事 24：离线查看在线卡片
**作为** 用户  
**我想要** 离线时也能查看之前打开过的在线卡片  
**以便于** 不受网络限制地访问内容

**验收标准**：
- 在线卡片自动缓存到本地
- 离线时可以查看缓存的卡片
- 明确标识卡片是缓存版本
- 恢复在线后可以更新缓存
- 可以管理缓存（清理、查看大小）

**优先级**：低

---

## 5. 辅助功能故事

### 5.1 无障碍访问

#### 故事 25：使用屏幕阅读器查看卡片
**作为** 视障用户  
**我想要** 使用屏幕阅读器访问卡片内容  
**以便于** 我也能使用查看器

**验收标准**：
- 完整的键盘导航支持
- 所有 UI 元素有恰当的 ARIA 标签
- 图片有替代文本描述
- 焦点管理合理清晰
- 兼容主流屏幕阅读器（NVDA、JAWS、VoiceOver）

**优先级**：低

---

#### 故事 26：调整界面以适应视觉需求
**作为** 低视力用户  
**我想要** 调整字体大小和对比度  
**以便于** 更清楚地查看内容

**验收标准**：
- 可以放大界面和文字（200%+）
- 支持高对比度主题
- 可以调整行高和字间距
- 颜色不是传达信息的唯一方式
- 符合 WCAG 2.1 AA 标准

**优先级**：低

---

### 5.2 多语言支持

查看器采用薯片生态的**系统统一多语言方案**。

> **详细规范**: 参见 [多语言系统规范](../../生态共用/11-多语言系统规范.md)

#### 故事 27：使用本地语言的查看器
**作为** 非英语用户  
**我想要** 查看器界面使用我的本地语言  
**以便于** 更方便地使用软件

**验收标准**：
- 采用系统统一的多语言方案，零硬编码
- 所有界面文本使用系统词汇编码
- 支持多种语言：zh-CN、zh-TW、en-US、ja-JP、ko-KR
- 自动检测系统语言并使用对应词汇
- 可以手动切换界面语言，所有文本即时更新
- 翻译准确完整，通过系统词汇表管理
- 错误信息、提示、按钮等都使用多语言系统

**技术实现**：
- 使用 `t()` 函数获取所有显示文本
- 开发时使用清晰的词汇key（如 `viewer.open`）
- 打包时自动替换为系统编码（如 `i18n.viewer.300001`）
- 不允许在代码中出现任何硬编码文本

**优先级**：中

---

## 6. 用户故事总结

### 6.1 优先级分布

**高优先级（必须实现）**：
- 快速查看分享的卡片
- 浏览个人卡片库
- 查看多媒体内容
- 手机上查看卡片
- 预览编辑的卡片效果
- 开发自定义查看工具插件
- 集成查看器到自己的应用

**中优先级（重要但非紧急）**：
- 全屏沉浸式查看
- 离线查看卡片
- 查看团队共享的知识卡片
- 会议中演示卡片
- 使用专业播放器查看视频
- 使用高级代码查看器
- 查看只读权限的卡片
- 调试查看工具插件
- 自定义查看器外观
- 查看超大卡片文件
- 低配设备上流畅运行
- 查看旧版本卡片
- 查看包含网络资源的卡片
- 使用本地语言的查看器

**低优先级（锦上添花）**：
- 测试不同主题效果
- 统一团队的查看标准
- 处理损坏的卡片文件
- 离线查看在线卡片
- 使用屏幕阅读器查看卡片
- 调整界面以适应视觉需求

### 6.2 用户类型覆盖

本文档覆盖了以下用户类型：
- **普通用户**：内容消费者、移动端用户、团队成员
- **高级用户**：内容创作者、专业用户、企业用户
- **开发者**：插件开发者、应用开发者
- **特殊需求用户**：视障用户、低视力用户、非英语用户

### 6.3 功能覆盖范围

本文档的用户故事覆盖了：
- 核心查看功能
- 多媒体播放
- 插件系统
- 跨平台支持
- 性能和兼容性
- 辅助功能和无障碍
- 开发者集成

这些用户故事将指导产品的设计和开发，确保 Chips Viewer 满足各类用户的实际需求。
