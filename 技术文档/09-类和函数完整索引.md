# 类和函数完整索引

本文档提供 Chips Viewer 所有公共类和函数的完整索引。

## 目录

1. [核心类](#1-核心类)
2. [渲染类](#2-渲染类)
3. [插件类](#3-插件类)
4. [主题类](#4-主题类)
5. [工具类](#5-工具类)
6. [数据模型类](#6-数据模型类)
7. [工具函数](#7-工具函数)

---

## 1. 核心类

### 1.1 ViewerApp

**路径**: `src/ViewerApp.ts`

**描述**: 查看器应用主类

**构造函数**:
```typescript
constructor(options?: ViewerAppOptions)
```

**属性**:
- `pluginManager: PluginManager` - 插件管理器
- `themeManager: ThemeManager` - 主题管理器
- `renderAPI: RenderAPI` - 渲染 API
- `fileParser: FileParser` - 文件解析器
- `configManager: ConfigManager` - 配置管理器
- `eventBus: EventBus` - 事件总线

**方法**:
- `async openCard(path: string, container?: HTMLElement): Promise<void>`
- `closeCard(): void`
- `getCurrentCard(): Card | null`
- `navigate(target: NavigationTarget): void`
- `back(): void`
- `forward(): void`
- `getHistory(): NavigationHistory`
- `on(event: string, handler: EventHandler): void`
- `off(event: string, handler: EventHandler): void`
- `emit(event: string, data?: any): void`

---

### 1.2 NavigationController

**路径**: `src/core/NavigationController.ts`

**描述**: 导航控制器

**构造函数**:
```typescript
constructor(app: ViewerApp)
```

**属性**:
- `history: NavigationHistory` - 导航历史
- `currentIndex: number` - 当前索引

**方法**:
- `navigate(target: NavigationTarget): void`
- `back(): void`
- `forward(): void`
- `canGoBack(): boolean`
- `canGoForward(): boolean`
- `getHistory(): NavigationHistory`
- `clearHistory(): void`

---

### 1.3 InteractionController

**路径**: `src/core/InteractionController.ts`

**描述**: 交互控制器

**构造函数**:
```typescript
constructor(app: ViewerApp)
```

**方法**:
- `handleClick(event: MouseEvent): void`
- `handleKeyboard(event: KeyboardEvent): void`
- `handleTouch(event: TouchEvent): void`
- `handleScroll(event: ScrollEvent): void`
- `handleDrop(event: DragEvent): void`
- `registerShortcut(keys: string, handler: Function): void`
- `unregisterShortcut(keys: string): void`

---

## 2. 渲染类

### 2.1 CardRenderer

**路径**: `src/renderer/CardRenderer.ts`

**描述**: 卡片渲染器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `async render(card: Card, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `renderBasicCard(card: BasicCard): HTMLElement`
- `renderCompositeCard(card: CompositeCard): HTMLElement`
- `update(cardId: string, updates: Partial<Card>): void`
- `dispose(cardId: string): void`

---

### 2.2 RichTextCardRenderer

**路径**: `src/renderer/RichTextCardRenderer.ts`

**描述**: 富文本卡片渲染器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `async render(card: RichTextCard, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `parseRichText(content: RichTextContent): string`
- `renderBlock(block: Block): HTMLElement`
- `applyFormatting(element: HTMLElement, formatting: Formatting): void`

---

### 2.3 MarkdownCardRenderer

**路径**: `src/renderer/MarkdownCardRenderer.ts`

**描述**: Markdown 卡片渲染器

**构造函数**:
```typescript
constructor()
```

**属性**:
- `marked: MarkedInstance` - Markdown 解析器
- `highlighter: CodeHighlighter` - 代码高亮器

**方法**:
- `async render(card: MarkdownCard, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `renderMath(html: string): string`
- `generateToc(element: HTMLElement): HTMLElement`
- `highlightCode(code: string, lang: string): string`

---

### 2.4 ImageCardRenderer

**路径**: `src/renderer/ImageCardRenderer.ts`

**描述**: 图片卡片渲染器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `async render(card: ImageCard, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `createPlaceholder(): HTMLElement`
- `addImageControls(wrapper: HTMLElement, img: HTMLImageElement): void`
- `zoom(img: HTMLImageElement, factor: number): void`
- `resetZoom(img: HTMLImageElement): void`
- `rotate(img: HTMLImageElement, angle: number): void`
- `fullscreen(element: HTMLElement): void`

---

### 2.5 VideoCardRenderer

**路径**: `src/renderer/VideoCardRenderer.ts`

**描述**: 视频卡片渲染器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `async render(card: VideoCard, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `createVideoElement(card: VideoCard): HTMLVideoElement`
- `addControls(wrapper: HTMLElement, video: HTMLVideoElement): void`
- `play(): void`
- `pause(): void`
- `seek(time: number): void`
- `setPlaybackRate(rate: number): void`

---

### 2.6 CodeCardRenderer

**路径**: `src/renderer/CodeCardRenderer.ts`

**描述**: 代码卡片渲染器

**构造函数**:
```typescript
constructor()
```

**属性**:
- `highlighter: Prism | HighlightJS` - 代码高亮器

**方法**:
- `async render(card: CodeCard, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `createCodeToolbar(card: CodeCard): HTMLElement`
- `addLineNumbers(pre: HTMLElement, code: HTMLElement): void`
- `copyToClipboard(code: string): Promise<void>`

---

### 2.7 CompositeCardRenderer

**路径**: `src/renderer/CompositeCardRenderer.ts`

**描述**: 复合卡片渲染器

**构造函数**:
```typescript
constructor(rendererFactory: RendererFactory)
```

**方法**:
- `async render(card: CompositeCard, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>`
- `async renderChildren(children: Card[], wrapper: HTMLElement, options?: RenderOptions): Promise<RenderResult[]>`
- `applyLayout(wrapper: HTMLElement, layout: string): void`
- `async updateComposite(wrapper: HTMLElement, updates: Partial<CompositeCard>, childResults: RenderResult[]): Promise<void>`

---

### 2.8 RendererFactory

**路径**: `src/renderer/RendererFactory.ts`

**描述**: 渲染器工厂

**构造函数**:
```typescript
constructor()
```

**属性**:
- `renderers: Map<CardType, ICardRenderer>` - 渲染器映射

**方法**:
- `register(type: CardType, renderer: ICardRenderer): void`
- `getRenderer(type: CardType): ICardRenderer`
- `hasRenderer(type: CardType): boolean`
- `listRenderers(): CardType[]`

---

### 2.9 ThemeApplier

**路径**: `src/renderer/ThemeApplier.ts`

**描述**: 主题应用器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `apply(theme: Theme, target: HTMLElement): void`
- `applyToCard(theme: Theme, card: Card): void`
- `applyToBox(theme: Theme, box: Box): void`
- `setCSSVariables(target: HTMLElement, theme: Theme): void`
- `applySpecificStyles(target: HTMLElement, theme: Theme): void`
- `applyCardStyle(element: HTMLElement, style: CardThemeStyle): void`
- `remove(target: HTMLElement): void`
- `camelToKebab(str: string): string`

---

### 2.10 GridLayoutEngine

**路径**: `src/renderer/GridLayoutEngine.ts`

**描述**: 网格布局引擎

**构造函数**:
```typescript
constructor()
```

**方法**:
- `calculate(items: LayoutItem[], constraints: LayoutConstraints): Layout`
- `apply(layout: Layout, container: HTMLElement): void`

---

### 2.11 WaterfallLayoutEngine

**路径**: `src/renderer/WaterfallLayoutEngine.ts`

**描述**: 瀑布流布局引擎

**构造函数**:
```typescript
constructor()
```

**方法**:
- `calculate(items: LayoutItem[], constraints: LayoutConstraints): Layout`
- `apply(layout: Layout, container: HTMLElement): void`

---

### 2.12 ResponsiveLayoutManager

**路径**: `src/renderer/ResponsiveLayoutManager.ts`

**描述**: 响应式布局管理器

**构造函数**:
```typescript
constructor()
```

**属性**:
- `breakpoints: Breakpoints` - 断点配置

**方法**:
- `getLayoutConfig(width: number): LayoutConstraints`
- `observeResize(container: HTMLElement, callback: (width: number) => void): ResizeObserver`
- `getBreakpoint(width: number): string`

---

## 3. 插件类

### 3.1 PluginManager

**路径**: `src/plugin/PluginManager.ts`

**描述**: 插件管理器

**构造函数**:
```typescript
constructor(viewerAPI: ViewerAPI)
```

**属性**:
- `plugins: Map<string, LoadedPlugin>` - 已加载插件
- `pluginsByType: Map<string, Set<string>>` - 类型到插件映射
- `defaultPlugins: Map<string, string>` - 默认插件

**方法**:
- `async install(pluginPath: string): Promise<void>`
- `async uninstall(pluginId: string): Promise<void>`
- `async update(pluginId: string): Promise<void>`
- `getPlugin(pluginId: string): IViewerToolPlugin | null`
- `getPluginsForType(mimeType: string): IViewerToolPlugin[]`
- `setDefaultPlugin(mimeType: string, pluginId: string): void`
- `getDefaultPlugin(mimeType: string): IViewerToolPlugin | null`
- `listPlugins(): PluginManifest[]`

**私有方法**:
- `async readManifest(pluginPath: string): Promise<PluginManifest>`
- `validatePlugin(manifest: PluginManifest): void`
- `async resolveDependencies(manifest: PluginManifest): Promise<void>`
- `async loadPluginCode(pluginPath: string, main: string): Promise<any>`
- `createPluginContext(manifest: PluginManifest): PluginContext`
- `registerPlugin(pluginId: string, loaded: LoadedPlugin): void`
- `unregisterPlugin(pluginId: string): void`

---

### 3.2 PluginLoader

**路径**: `src/plugin/PluginLoader.ts`

**描述**: 插件加载器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `async load(pluginPath: string): Promise<IViewerToolPlugin>`
- `async reload(pluginId: string): Promise<void>`
- `validatePlugin(plugin: IViewerToolPlugin): ValidationResult`

---

### 3.3 PluginDispatcher

**路径**: `src/plugin/PluginDispatcher.ts`

**描述**: 插件调度器

**构造函数**:
```typescript
constructor(pluginManager: PluginManager)
```

**方法**:
- `async dispatch(file: FileInfo, container: HTMLElement, options?: DispatchOptions): Promise<RenderResult>`
- `selectPlugin(file: FileInfo, preferredId?: string): IViewerToolPlugin | null`
- `async fallback(file: FileInfo, container: HTMLElement, options?: DispatchOptions): Promise<RenderResult>`

---

### 3.4 PluginSandbox

**路径**: `src/plugin/PluginSandbox.ts`

**描述**: 插件沙箱

**构造函数**:
```typescript
constructor()
```

**属性**:
- `iframe: HTMLIFrameElement | null` - 沙箱 iframe
- `worker: Worker | null` - Worker 线程

**方法**:
- `async loadInSandbox(pluginPath: string, manifest: PluginManifest): Promise<any>`
- `createRestrictedContext(manifest: PluginManifest): any`
- `async executeInSandbox(code: string, context: any): Promise<any>`
- `destroy(): void`
- `checkPermissions(permissions: string[]): void`
- `createFileSystemProxy(): any`
- `createFetchProxy(): typeof fetch`
- `createStorageProxy(): any`
- `isPathAllowed(path: string): boolean`
- `isURLAllowed(url: string): boolean`

---

## 4. 主题类

### 4.1 ThemeManager

**路径**: `src/theme/ThemeManager.ts`

**描述**: 主题管理器

**构造函数**:
```typescript
constructor()
```

**属性**:
- `themes: Map<string, Theme>` - 主题映射
- `currentTheme: Theme` - 当前主题

**方法**:
- `loadTheme(themeId: string): Theme`
- `getCurrentTheme(): Theme`
- `setTheme(themeId: string): void`
- `listThemes(): ThemeInfo[]`
- `async importTheme(themePath: string): Promise<void>`
- `async exportTheme(themeId: string, outputPath: string): Promise<void>`
- `registerTheme(theme: Theme): void`
- `unregisterTheme(themeId: string): void`

---

## 5. 工具类

### 5.1 CardParser

**路径**: `src/core/CardParser.ts`

**描述**: 卡片解析器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `parse(data: ArrayBuffer): Card`
- `validate(card: Card): ValidationResult`
- `getMetadata(data: ArrayBuffer): CardMetadata`
- `bufferToJSON(data: ArrayBuffer): any`
- `jsonToBuffer(json: any): ArrayBuffer`
- `validateAndNormalize(data: any): Card`

---

### 5.2 BoxParser

**路径**: `src/core/BoxParser.ts`

**描述**: 箱子解析器

**构造函数**:
```typescript
constructor()
```

**方法**:
- `parse(directory: string): Box`
- `getConfig(directory: string): BoxConfig`
- `scanCards(directory: string): Card[]`
- `validateBoxStructure(directory: string): boolean`

---

### 5.3 ResourceManager

**路径**: `src/core/ResourceManager.ts`

**描述**: 资源管理器

**构造函数**:
```typescript
constructor()
```

**属性**:
- `cache: Map<string, Resource>` - 资源缓存

**方法**:
- `async loadResource(uri: string): Promise<Resource>`
- `cacheResource(uri: string, data: ArrayBuffer): void`
- `clearCache(): void`
- `getCacheStatistics(): CacheStats`
- `evictCache(): void`

---

### 5.4 EventBus

**路径**: `src/core/EventBus.ts`

**描述**: 事件总线

**构造函数**:
```typescript
constructor()
```

**属性**:
- `listeners: Map<string, Set<EventHandler>>` - 事件监听器

**方法**:
- `on(event: string, handler: EventHandler): void`
- `off(event: string, handler: EventHandler): void`
- `emit(event: string, data?: any): void`
- `once(event: string, handler: EventHandler): void`
- `removeAllListeners(event?: string): void`
- `listenerCount(event: string): number`

---

### 5.5 ConfigManager

**路径**: `src/core/ConfigManager.ts`

**描述**: 配置管理器

**构造函数**:
```typescript
constructor(configPath: string)
```

**属性**:
- `config: Map<string, any>` - 配置数据
- `configPath: string` - 配置文件路径

**方法**:
- `get<T>(key: string, defaultValue?: T): T`
- `set(key: string, value: any): void`
- `has(key: string): boolean`
- `delete(key: string): void`
- `reset(): void`
- `async save(): Promise<void>`
- `async load(): Promise<void>`
- `getAll(): Record<string, any>`

---

### 5.6 CacheSystem

**路径**: `src/core/CacheSystem.ts`

**描述**: 缓存系统

**构造函数**:
```typescript
constructor(maxSize?: number)
```

**属性**:
- `cache: Map<string, CacheEntry>` - 缓存数据
- `maxSize: number` - 最大缓存大小

**方法**:
- `set(key: string, value: any, ttl?: number): void`
- `get(key: string): any | null`
- `has(key: string): boolean`
- `delete(key: string): void`
- `clear(): void`
- `size(): number`
- `isExpired(entry: CacheEntry): boolean`
- `evict(): void`

---

### 5.7 VirtualScroller

**路径**: `src/core/VirtualScroller.ts`

**描述**: 虚拟滚动

**构造函数**:
```typescript
constructor(viewport: HTMLElement, items: any[], itemHeight: number)
```

**属性**:
- `viewport: HTMLElement` - 视口元素
- `content: HTMLElement` - 内容容器
- `items: any[]` - 项目列表
- `itemHeight: number` - 项目高度
- `visibleCount: number` - 可见数量
- `startIndex: number` - 起始索引

**方法**:
- `onScroll(): void`
- `render(): void`
- `renderItem(item: any): HTMLElement`
- `scrollTo(index: number): void`
- `destroy(): void`

---

### 5.8 LazyLoader

**路径**: `src/core/LazyLoader.ts`

**描述**: 懒加载器

**构造函数**:
```typescript
constructor(options?: IntersectionObserverInit)
```

**属性**:
- `observer: IntersectionObserver` - 交叉观察器

**方法**:
- `observe(element: HTMLElement, loadCallback: () => void): void`
- `onIntersect(entries: IntersectionObserverEntry[]): void`
- `disconnect(): void`

---

## 6. 数据模型类

### 6.1 Card (基类)

**路径**: `src/types/Card.ts`

**描述**: 卡片基类

**属性**:
- `id: string` - 卡片 ID
- `type: CardType` - 卡片类型
- `version: string` - 版本号
- `metadata: CardMetadata` - 元数据
- `content: any` - 内容

---

### 6.2 RichTextCard

**路径**: `src/types/RichTextCard.ts`

**描述**: 富文本卡片

**继承**: Card

**属性**:
- `content: RichTextContent` - 富文本内容

---

### 6.3 MarkdownCard

**路径**: `src/types/MarkdownCard.ts`

**描述**: Markdown 卡片

**继承**: Card

**属性**:
- `content: string` - Markdown 文本
- `showToc: boolean` - 是否显示目录

---

### 6.4 ImageCard

**路径**: `src/types/ImageCard.ts`

**描述**: 图片卡片

**继承**: Card

**属性**:
- `url: string` - 图片 URL
- `alt: string` - 替代文本
- `width: number` - 宽度
- `height: number` - 高度

---

### 6.5 CompositeCard

**路径**: `src/types/CompositeCard.ts`

**描述**: 复合卡片

**继承**: Card

**属性**:
- `children: Card[]` - 子卡片
- `layout: string` - 布局类型

---

### 6.6 Theme

**路径**: `src/types/Theme.ts`

**描述**: 主题

**属性**:
- `id: string` - 主题 ID
- `name: string` - 主题名称
- `version: string` - 版本号
- `colors: ThemeColors` - 颜色配置
- `typography: ThemeTypography` - 字体配置
- `spacing: ThemeSpacing` - 间距配置
- `borderRadius: ThemeBorderRadius` - 圆角配置
- `shadows: ThemeShadows` - 阴影配置
- `cardStyles: Record<string, CardThemeStyle>` - 卡片样式
- `codeTheme: string` - 代码主题

---

## 7. 工具函数

### 7.1 文件工具

**路径**: `src/utils/file.ts`

#### normalizePath()
```typescript
function normalizePath(path: string): string
```
规范化文件路径。

#### getExtension()
```typescript
function getExtension(filename: string): string
```
获取文件扩展名。

#### getMimeType()
```typescript
function getMimeType(filename: string): string
```
根据文件名获取 MIME 类型。

#### formatFileSize()
```typescript
function formatFileSize(bytes: number): string
```
格式化文件大小。

---

### 7.2 DOM 工具

**路径**: `src/utils/dom.ts`

#### createElement()
```typescript
function createElement<K extends keyof HTMLElementTagNameMap>(
  tag: K,
  options?: ElementOptions
): HTMLElementTagNameMap[K]
```
创建 DOM 元素。

#### addClass()
```typescript
function addClass(element: HTMLElement, ...classes: string[]): void
```
添加 CSS 类。

#### removeClass()
```typescript
function removeClass(element: HTMLElement, ...classes: string[]): void
```
移除 CSS 类。

#### toggleClass()
```typescript
function toggleClass(element: HTMLElement, className: string, force?: boolean): void
```
切换 CSS 类。

#### getComputedStyle()
```typescript
function getComputedStyle(element: HTMLElement, property: string): string
```
获取计算后的样式。

---

### 7.3 格式化工具

**路径**: `src/utils/format.ts`

#### formatDate()
```typescript
function formatDate(date: Date | number, format: string): string
```
格式化日期。

#### formatNumber()
```typescript
function formatNumber(num: number, decimals?: number): string
```
格式化数字。

#### formatDuration()
```typescript
function formatDuration(seconds: number): string
```
格式化时长（如：01:23:45）。

#### truncateText()
```typescript
function truncateText(text: string, maxLength: number, ellipsis?: string): string
```
截断文本。

---

### 7.4 验证工具

**路径**: `src/utils/validation.ts`

#### isValidURL()
```typescript
function isValidURL(url: string): boolean
```
验证 URL 是否有效。

#### isValidEmail()
```typescript
function isValidEmail(email: string): boolean
```
验证邮箱是否有效。

#### isValidVersion()
```typescript
function isValidVersion(version: string): boolean
```
验证语义化版本号。

#### validateCard()
```typescript
function validateCard(card: any): ValidationResult
```
验证卡片数据。

---

### 7.5 异步工具

**路径**: `src/utils/async.ts`

#### debounce()
```typescript
function debounce<T extends Function>(func: T, wait: number): T
```
防抖函数。

#### throttle()
```typescript
function throttle<T extends Function>(func: T, wait: number): T
```
节流函数。

#### sleep()
```typescript
function sleep(ms: number): Promise<void>
```
延迟执行。

#### retry()
```typescript
async function retry<T>(
  fn: () => Promise<T>,
  options?: RetryOptions
): Promise<T>
```
重试函数。

#### timeout()
```typescript
function timeout<T>(
  promise: Promise<T>,
  ms: number,
  timeoutError?: Error
): Promise<T>
```
给 Promise 添加超时。

---

### 7.6 对象工具

**路径**: `src/utils/object.ts`

#### deepClone()
```typescript
function deepClone<T>(obj: T): T
```
深拷贝对象。

#### deepMerge()
```typescript
function deepMerge<T>(target: T, ...sources: Partial<T>[]): T
```
深度合并对象。

#### get()
```typescript
function get<T>(obj: any, path: string, defaultValue?: T): T
```
安全获取对象属性（支持路径）。

#### set()
```typescript
function set(obj: any, path: string, value: any): void
```
安全设置对象属性（支持路径）。

#### pick()
```typescript
function pick<T, K extends keyof T>(obj: T, keys: K[]): Pick<T, K>
```
选取对象属性。

#### omit()
```typescript
function omit<T, K extends keyof T>(obj: T, keys: K[]): Omit<T, K>
```
排除对象属性。

---

### 7.7 字符串工具

**路径**: `src/utils/string.ts`

#### camelCase()
```typescript
function camelCase(str: string): string
```
转换为驼峰命名。

#### kebabCase()
```typescript
function kebabCase(str: string): string
```
转换为短横线命名。

#### snakeCase()
```typescript
function snakeCase(str: string): string
```
转换为下划线命名。

#### capitalize()
```typescript
function capitalize(str: string): string
```
首字母大写。

#### escapeHTML()
```typescript
function escapeHTML(str: string): string
```
转义 HTML。

#### unescapeHTML()
```typescript
function unescapeHTML(str: string): string
```
反转义 HTML。

---

## 8. 常量和枚举

### 8.1 CardType

**路径**: `src/types/CardType.ts`

```typescript
enum CardType {
  RichText = 'richtext',
  Markdown = 'markdown',
  Image = 'image',
  Video = 'video',
  Audio = 'audio',
  Code = 'code',
  List = 'list',
  Rating = 'rating',
  Web = 'web',
  Composite = 'composite'
}
```

### 8.2 EventType

**路径**: `src/types/EventType.ts`

```typescript
enum EventType {
  AppReady = 'app:ready',
  AppError = 'app:error',
  CardOpened = 'card:opened',
  CardClosed = 'card:closed',
  CardRendered = 'card:rendered',
  ThemeChanged = 'theme:changed',
  PluginInstalled = 'plugin:installed',
  PluginUninstalled = 'plugin:uninstalled',
  NavigationChanged = 'navigation:changed'
}
```

---

## 9. 索引统计

- **总类数**: 32
- **总方法数**: 180+
- **工具函数数**: 35+
- **枚举/常量**: 10+

---

## 10. 按模块分组

### 核心模块
- ViewerApp
- NavigationController
- InteractionController

### 渲染模块
- CardRenderer
- RichTextCardRenderer
- MarkdownCardRenderer
- ImageCardRenderer
- VideoCardRenderer
- CodeCardRenderer
- CompositeCardRenderer
- RendererFactory
- ThemeApplier
- GridLayoutEngine
- WaterfallLayoutEngine
- ResponsiveLayoutManager

### 插件模块
- PluginManager
- PluginLoader
- PluginDispatcher
- PluginSandbox

### 主题模块
- ThemeManager

### 工具模块
- CardParser
- BoxParser
- ResourceManager
- EventBus
- ConfigManager
- CacheSystem
- VirtualScroller
- LazyLoader

### 数据模型
- Card
- RichTextCard
- MarkdownCard
- ImageCard
- CompositeCard
- Theme

---

## 附录

### A. 类继承关系

```
Card (基类)
├── RichTextCard
├── MarkdownCard
├── ImageCard
├── VideoCard
├── AudioCard
├── CodeCard
├── ListCard
├── RatingCard
├── WebCard
└── CompositeCard

ICardRenderer (接口)
├── RichTextCardRenderer
├── MarkdownCardRenderer
├── ImageCardRenderer
├── VideoCardRenderer
├── AudioCardRenderer
├── CodeCardRenderer
├── ListCardRenderer
├── RatingCardRenderer
├── WebCardRenderer
└── CompositeCardRenderer

ILayoutEngine (接口)
├── GridLayoutEngine
├── WaterfallLayoutEngine
├── ListLayoutEngine
└── KanbanLayoutEngine
```

### B. 使用频率最高的类/函数

1. CardRenderer
2. ViewerApp
3. PluginManager
4. ThemeManager
5. EventBus
6. createElement
7. debounce
8. formatDate
9. deepClone
10. isValidURL

### C. 参考链接

- [完整 API 文档](https://chips.dev/docs/api)
- [类型定义文档](https://chips.dev/docs/types)
- [工具函数文档](https://chips.dev/docs/utils)
