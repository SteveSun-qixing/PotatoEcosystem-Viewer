# Phase 5: 测试与优化

**阶段目标**：完成全面测试，进行性能优化，完善文档  
**预计工期**：5天  
**开发模式**：并行开发（测试和优化可并行）

---

## 任务清单

### 任务 5.1：单元测试（1.5天）

#### 5.1.1 核心模块单元测试

**描述**：为核心模块编写全面的单元测试

**测试覆盖要求**：
- 核心模块覆盖率 ≥ 90%
- 整体覆盖率 ≥ 80%

**测试文件列表**：

```
tests/unit/
├── core/
│   ├── viewer/
│   │   ├── ViewerApp.test.ts
│   │   ├── CardManager.test.ts
│   │   ├── BoxManager.test.ts
│   │   ├── NavigationController.test.ts
│   │   └── ConfigManager.test.ts
│   ├── plugin/
│   │   ├── PluginManager.test.ts
│   │   ├── PluginLoader.test.ts
│   │   ├── PluginDispatcher.test.ts
│   │   ├── PluginSandbox.test.ts
│   │   └── PluginContext.test.ts
│   ├── rendering/
│   │   ├── RenderingBridge.test.ts
│   │   └── IFrameManager.test.ts
│   └── shortcuts/
│       └── ShortcutManager.test.ts
├── services/
│   ├── EventBus.test.ts
│   ├── Logger.test.ts
│   └── SDKService.test.ts
├── store/
│   ├── viewer.test.ts
│   └── config.test.ts
└── utils/
    └── helpers.test.ts
```

**示例测试文件**：`tests/unit/core/viewer/ViewerApp.test.ts`

```typescript
/**
 * ViewerApp 单元测试
 */
import { describe, it, expect, beforeEach, afterEach, vi } from 'vitest';
import { ViewerApp } from '@renderer/core/viewer/ViewerApp';
import { sdkService } from '@renderer/services';

// Mock SDK Service
vi.mock('@renderer/services', () => ({
  sdkService: {
    initialize: vi.fn().mockResolvedValue(undefined),
    destroy: vi.fn(),
    isReady: vi.fn().mockReturnValue(true),
    loadCard: vi.fn(),
    loadBox: vi.fn(),
    request: vi.fn(),
  },
  eventBus: {
    on: vi.fn().mockReturnValue('handler-id'),
    off: vi.fn(),
    emit: vi.fn(),
  },
  logger: {
    createChild: vi.fn().mockReturnValue({
      debug: vi.fn(),
      info: vi.fn(),
      warn: vi.fn(),
      error: vi.fn(),
    }),
  },
}));

describe('ViewerApp', () => {
  let app: ViewerApp;
  
  beforeEach(() => {
    app = new ViewerApp();
  });
  
  afterEach(async () => {
    if (app) {
      await app.destroy();
    }
    vi.clearAllMocks();
  });
  
  describe('Lifecycle', () => {
    it('should initialize with idle state', () => {
      expect(app.state).toBe('idle');
      expect(app.isReady).toBe(false);
    });
    
    it('should transition to ready state after initialization', async () => {
      await app.initialize();
      expect(app.state).toBe('ready');
      expect(app.isReady).toBe(true);
    });
    
    it('should handle initialization error', async () => {
      vi.mocked(sdkService.initialize).mockRejectedValueOnce(new Error('Init failed'));
      
      await expect(app.initialize()).rejects.toThrow('Init failed');
      expect(app.state).toBe('error');
    });
    
    it('should clean up on destroy', async () => {
      await app.initialize();
      await app.destroy();
      
      expect(app.state).toBe('destroyed');
    });
  });
  
  describe('Content Operations', () => {
    beforeEach(async () => {
      await app.initialize();
    });
    
    it('should open a card', async () => {
      const mockCard = {
        id: 'test123456',
        metadata: { name: 'Test Card' },
      };
      
      vi.mocked(sdkService.loadCard).mockResolvedValueOnce(mockCard);
      vi.mocked(sdkService.request).mockResolvedValueOnce({
        success: true,
        frame: document.createElement('iframe'),
      });
      
      const container = document.createElement('div');
      await app.openCard('/test.card', { container });
      
      expect(app.currentContent.type).toBe('card');
      expect(app.currentContent.data).toEqual(mockCard);
    });
    
    it('should close content properly', async () => {
      // Setup
      const mockCard = { id: 'test123456', metadata: { name: 'Test Card' } };
      vi.mocked(sdkService.loadCard).mockResolvedValueOnce(mockCard);
      vi.mocked(sdkService.request).mockResolvedValueOnce({ success: true });
      
      const container = document.createElement('div');
      await app.openCard('/test.card', { container });
      
      // Close
      app.closeContent();
      
      expect(app.currentContent.type).toBe('none');
      expect(app.currentContent.data).toBeNull();
    });
  });
  
  describe('Navigation', () => {
    beforeEach(async () => {
      await app.initialize();
    });
    
    it('should track navigation history', async () => {
      vi.mocked(sdkService.loadCard).mockResolvedValue({ id: 'card1' });
      vi.mocked(sdkService.request).mockResolvedValue({ success: true });
      
      await app.navigate({ type: 'card', path: '/card1.card' });
      await app.navigate({ type: 'card', path: '/card2.card' });
      
      expect(app.canGoBack()).toBe(true);
      expect(app.canGoForward()).toBe(false);
    });
    
    it('should handle back navigation', async () => {
      vi.mocked(sdkService.loadCard).mockResolvedValue({ id: 'card1' });
      vi.mocked(sdkService.request).mockResolvedValue({ success: true });
      
      await app.navigate({ type: 'card', path: '/card1.card' });
      await app.navigate({ type: 'card', path: '/card2.card' });
      
      app.goBack();
      
      expect(app.canGoForward()).toBe(true);
    });
  });
  
  describe('Events', () => {
    it('should emit and handle events', async () => {
      await app.initialize();
      
      const handler = vi.fn();
      const handlerId = app.on('test:event', handler);
      
      app.emit('test:event', { data: 'test' });
      
      expect(handler).toHaveBeenCalledWith({ data: 'test' });
      
      app.off('test:event', handlerId);
    });
  });
});
```

**验收标准**：
- [ ] 所有核心模块测试编写完成
- [ ] 测试覆盖率达标
- [ ] 所有测试通过

---

#### 5.1.2 服务层单元测试

**描述**：为服务层编写单元测试

**示例测试文件**：`tests/unit/services/EventBus.test.ts`

```typescript
/**
 * EventBus 单元测试
 */
import { describe, it, expect, beforeEach, vi } from 'vitest';
import { EventBus } from '@renderer/services/EventBus';

describe('EventBus', () => {
  let eventBus: EventBus;
  
  beforeEach(() => {
    eventBus = new EventBus();
  });
  
  describe('on/emit', () => {
    it('should register and trigger event handlers', () => {
      const handler = vi.fn();
      eventBus.on('test', handler);
      
      eventBus.emit('test', { value: 42 });
      
      expect(handler).toHaveBeenCalledWith({ value: 42 });
    });
    
    it('should support multiple handlers for same event', () => {
      const handler1 = vi.fn();
      const handler2 = vi.fn();
      
      eventBus.on('test', handler1);
      eventBus.on('test', handler2);
      
      eventBus.emit('test', 'data');
      
      expect(handler1).toHaveBeenCalledWith('data');
      expect(handler2).toHaveBeenCalledWith('data');
    });
  });
  
  describe('once', () => {
    it('should trigger handler only once', () => {
      const handler = vi.fn();
      eventBus.once('test', handler);
      
      eventBus.emit('test', 1);
      eventBus.emit('test', 2);
      
      expect(handler).toHaveBeenCalledTimes(1);
      expect(handler).toHaveBeenCalledWith(1);
    });
  });
  
  describe('off', () => {
    it('should remove specific handler', () => {
      const handler1 = vi.fn();
      const handler2 = vi.fn();
      
      const id1 = eventBus.on('test', handler1);
      eventBus.on('test', handler2);
      
      eventBus.off('test', id1);
      eventBus.emit('test', 'data');
      
      expect(handler1).not.toHaveBeenCalled();
      expect(handler2).toHaveBeenCalled();
    });
    
    it('should remove all handlers when no id provided', () => {
      const handler1 = vi.fn();
      const handler2 = vi.fn();
      
      eventBus.on('test', handler1);
      eventBus.on('test', handler2);
      
      eventBus.off('test');
      eventBus.emit('test', 'data');
      
      expect(handler1).not.toHaveBeenCalled();
      expect(handler2).not.toHaveBeenCalled();
    });
  });
  
  describe('waitFor', () => {
    it('should wait for event and resolve', async () => {
      setTimeout(() => {
        eventBus.emit('test', { result: 'success' });
      }, 10);
      
      const result = await eventBus.waitFor('test', 1000);
      
      expect(result).toEqual({ result: 'success' });
    });
    
    it('should reject on timeout', async () => {
      await expect(eventBus.waitFor('test', 10)).rejects.toThrow('Timeout');
    });
  });
  
  describe('clear', () => {
    it('should remove all subscriptions', () => {
      eventBus.on('event1', vi.fn());
      eventBus.on('event2', vi.fn());
      
      eventBus.clear();
      
      expect(eventBus.listenerCount('event1')).toBe(0);
      expect(eventBus.listenerCount('event2')).toBe(0);
    });
  });
});
```

**验收标准**：
- [ ] 服务层测试编写完成
- [ ] 边界情况覆盖

---

### 任务 5.2：集成测试（1天）

#### 5.2.1 模块集成测试

**描述**：编写模块间集成测试

**文件**：`tests/integration/viewer-integration.test.ts`

```typescript
/**
 * Viewer 集成测试
 */
import { describe, it, expect, beforeAll, afterAll, beforeEach } from 'vitest';
import { ViewerApp } from '@renderer/core/viewer/ViewerApp';
import { PluginManager } from '@renderer/core/plugin/PluginManager';
import { sdkService, eventBus } from '@renderer/services';

describe('Viewer Integration', () => {
  let viewerApp: ViewerApp;
  
  beforeAll(async () => {
    // 使用真实的 SDK（或模拟的完整实现）
    await sdkService.initialize({ debug: true });
  });
  
  afterAll(async () => {
    sdkService.destroy();
  });
  
  beforeEach(async () => {
    viewerApp = new ViewerApp();
    await viewerApp.initialize();
  });
  
  describe('Card Viewing Flow', () => {
    it('should complete full card viewing flow', async () => {
      const container = document.createElement('div');
      document.body.appendChild(container);
      
      // 1. 打开卡片
      await viewerApp.openCard('./test-data/sample.card', { container });
      
      // 2. 验证内容
      expect(viewerApp.currentContent.type).toBe('card');
      expect(viewerApp.currentContent.data).not.toBeNull();
      
      // 3. 验证渲染
      expect(container.querySelector('iframe')).not.toBeNull();
      
      // 4. 关闭卡片
      viewerApp.closeContent();
      expect(viewerApp.currentContent.type).toBe('none');
      
      document.body.removeChild(container);
    });
    
    it('should handle card with multiple base cards', async () => {
      const container = document.createElement('div');
      document.body.appendChild(container);
      
      await viewerApp.openCard('./test-data/complex.card', { container });
      
      // 验证复合卡片渲染
      expect(viewerApp.currentContent.data?.structure?.structure?.length).toBeGreaterThan(1);
      
      document.body.removeChild(container);
    });
  });
  
  describe('Box Viewing Flow', () => {
    it('should complete full box viewing flow', async () => {
      const container = document.createElement('div');
      document.body.appendChild(container);
      
      await viewerApp.openBox('./test-data/sample.box', { container });
      
      expect(viewerApp.currentContent.type).toBe('box');
      expect(container.querySelector('iframe')).not.toBeNull();
      
      document.body.removeChild(container);
    });
  });
  
  describe('Navigation Integration', () => {
    it('should maintain navigation state across opens', async () => {
      const container = document.createElement('div');
      
      await viewerApp.navigate({ type: 'card', path: './test-data/card1.card' });
      await viewerApp.navigate({ type: 'card', path: './test-data/card2.card' });
      await viewerApp.navigate({ type: 'card', path: './test-data/card3.card' });
      
      // 应该能回退两次
      expect(viewerApp.canGoBack()).toBe(true);
      
      viewerApp.goBack();
      viewerApp.goBack();
      
      expect(viewerApp.canGoBack()).toBe(false);
      expect(viewerApp.canGoForward()).toBe(true);
    });
  });
  
  describe('Plugin Integration', () => {
    it('should load and use plugins correctly', async () => {
      // 插件应该在初始化时自动加载
      const pluginManager = viewerApp.getPluginManager();
      
      expect(pluginManager.count).toBeGreaterThan(0);
      expect(pluginManager.isEnabled('chips:video-viewer')).toBe(true);
    });
    
    it('should dispatch to correct plugin for file type', async () => {
      const container = document.createElement('div');
      
      // 打开视频卡片应该使用视频插件
      await viewerApp.openCard('./test-data/video.card', { container });
      
      // 验证使用了正确的渲染器
      // ...
    });
  });
  
  describe('Theme Integration', () => {
    it('should apply theme changes', () => {
      viewerApp.setTheme('dark');
      expect(viewerApp.getCurrentTheme()).toBe('dark');
      
      viewerApp.setTheme('light');
      expect(viewerApp.getCurrentTheme()).toBe('light');
    });
  });
});
```

**验收标准**：
- [ ] 集成测试编写完成
- [ ] 主要功能流程测试通过
- [ ] 边界情况处理正确

---

### 任务 5.3：E2E 测试（1天）

#### 5.3.1 Playwright E2E 测试配置

**描述**：配置并编写端到端测试

**文件**：`playwright.config.ts`

```typescript
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './tests/e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:5173',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] },
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] },
    },
  ],
  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:5173',
    reuseExistingServer: !process.env.CI,
  },
});
```

**文件**：`tests/e2e/viewer.spec.ts`

```typescript
/**
 * Viewer E2E 测试
 */
import { test, expect } from '@playwright/test';

test.describe('Chips Viewer', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/');
    // 等待应用加载完成
    await page.waitForSelector('.chips-viewer');
  });
  
  test('should display empty state initially', async ({ page }) => {
    await expect(page.locator('.content-empty')).toBeVisible();
  });
  
  test('should open card file via drag and drop', async ({ page }) => {
    // 模拟拖拽文件
    const dataTransfer = await page.evaluateHandle(() => {
      const dt = new DataTransfer();
      const file = new File([''], 'test.card', { type: 'application/x-card' });
      dt.items.add(file);
      return dt;
    });
    
    await page.dispatchEvent('.viewer-content', 'drop', { dataTransfer });
    
    // 验证内容加载
    await expect(page.locator('.viewer-content__render')).toBeVisible();
  });
  
  test('should navigate back and forward', async ({ page }) => {
    // 模拟打开多个文件
    // ...
    
    const backButton = page.locator('[data-testid="nav-back"]');
    const forwardButton = page.locator('[data-testid="nav-forward"]');
    
    // 初始状态
    await expect(backButton).toBeDisabled();
    await expect(forwardButton).toBeDisabled();
    
    // 打开第一个文件后
    // ...
    
    // 打开第二个文件后
    // ...
    await expect(backButton).toBeEnabled();
    
    // 点击后退
    await backButton.click();
    await expect(forwardButton).toBeEnabled();
  });
  
  test('should toggle sidebar', async ({ page }) => {
    const sidebar = page.locator('.viewer-sidebar');
    const toggleButton = page.locator('[data-testid="toggle-sidebar"]');
    
    // 默认显示
    await expect(sidebar).toBeVisible();
    
    // 点击隐藏
    await toggleButton.click();
    await expect(sidebar).not.toBeVisible();
    
    // 点击显示
    await toggleButton.click();
    await expect(sidebar).toBeVisible();
  });
  
  test('should change zoom level', async ({ page }) => {
    const zoomIn = page.locator('[data-testid="zoom-in"]');
    const zoomOut = page.locator('[data-testid="zoom-out"]');
    const zoomDisplay = page.locator('[data-testid="zoom-display"]');
    
    // 初始值
    await expect(zoomDisplay).toHaveText('100%');
    
    // 放大
    await zoomIn.click();
    await expect(zoomDisplay).toHaveText('110%');
    
    // 缩小
    await zoomOut.click();
    await zoomOut.click();
    await expect(zoomDisplay).toHaveText('90%');
  });
  
  test('should switch theme', async ({ page }) => {
    const themeToggle = page.locator('[data-testid="theme-toggle"]');
    
    await themeToggle.click();
    await page.locator('text=Dark').click();
    
    // 验证主题变化
    await expect(page.locator('html')).toHaveAttribute('data-theme', 'dark');
  });
  
  test('should respond to keyboard shortcuts', async ({ page }) => {
    // Ctrl+B 切换侧边栏
    await page.keyboard.press('Control+b');
    await expect(page.locator('.viewer-sidebar')).not.toBeVisible();
    
    await page.keyboard.press('Control+b');
    await expect(page.locator('.viewer-sidebar')).toBeVisible();
    
    // Ctrl+0 重置缩放
    await page.keyboard.press('Control+0');
    await expect(page.locator('[data-testid="zoom-display"]')).toHaveText('100%');
  });
});
```

**验收标准**：
- [ ] E2E 测试配置完成
- [ ] 主要用户场景测试通过
- [ ] 跨浏览器测试通过

---

### 任务 5.4：性能优化（1天）

#### 5.4.1 性能基准测试

**描述**：建立性能基准，识别瓶颈

**文件**：`tests/performance/benchmark.test.ts`

```typescript
/**
 * 性能基准测试
 */
import { describe, it, expect } from 'vitest';
import { ViewerApp } from '@renderer/core/viewer/ViewerApp';
import { PERFORMANCE_THRESHOLDS } from '@common/constants';

describe('Performance Benchmarks', () => {
  describe('Startup Performance', () => {
    it('should initialize within threshold', async () => {
      const start = performance.now();
      
      const app = new ViewerApp();
      await app.initialize();
      
      const duration = performance.now() - start;
      
      expect(duration).toBeLessThan(PERFORMANCE_THRESHOLDS.STARTUP_TIME);
      
      await app.destroy();
    });
  });
  
  describe('Card Opening Performance', () => {
    it('should open simple card within threshold', async () => {
      const app = new ViewerApp();
      await app.initialize();
      
      const container = document.createElement('div');
      const start = performance.now();
      
      await app.openCard('./test-data/simple.card', { container });
      
      const duration = performance.now() - start;
      
      expect(duration).toBeLessThan(PERFORMANCE_THRESHOLDS.OPEN_TIME);
      
      await app.destroy();
    });
    
    it('should open complex card within threshold', async () => {
      const app = new ViewerApp();
      await app.initialize();
      
      const container = document.createElement('div');
      const start = performance.now();
      
      await app.openCard('./test-data/complex.card', { container });
      
      const duration = performance.now() - start;
      
      // 复杂卡片允许更长时间
      expect(duration).toBeLessThan(PERFORMANCE_THRESHOLDS.OPEN_TIME * 3);
      
      await app.destroy();
    });
  });
  
  describe('Memory Usage', () => {
    it('should not exceed memory limit', async () => {
      const app = new ViewerApp();
      await app.initialize();
      
      // 打开多个卡片
      for (let i = 0; i < 10; i++) {
        const container = document.createElement('div');
        await app.openCard(`./test-data/card${i}.card`, { container });
      }
      
      // 检查内存使用
      if (performance.memory) {
        const usedMB = performance.memory.usedJSHeapSize / (1024 * 1024);
        expect(usedMB).toBeLessThan(PERFORMANCE_THRESHOLDS.MEMORY_LIMIT);
      }
      
      await app.destroy();
    });
  });
  
  describe('Navigation Performance', () => {
    it('should navigate between cards quickly', async () => {
      const app = new ViewerApp();
      await app.initialize();
      
      // 预加载卡片
      await app.navigate({ type: 'card', path: './test-data/card1.card' });
      await app.navigate({ type: 'card', path: './test-data/card2.card' });
      
      const start = performance.now();
      app.goBack();
      const duration = performance.now() - start;
      
      expect(duration).toBeLessThan(100); // 导航应该很快
      
      await app.destroy();
    });
  });
});
```

**验收标准**：
- [ ] 性能基准测试编写完成
- [ ] 识别性能瓶颈
- [ ] 所有性能指标达标

---

#### 5.4.2 性能优化实施

**描述**：实施性能优化措施

**优化项清单**：

| 优化项 | 描述 | 预期效果 |
|--------|------|---------|
| 虚拟滚动 | 大量内容使用虚拟滚动 | 减少 DOM 节点 |
| 懒加载 | 资源懒加载 | 减少初始加载时间 |
| 缓存优化 | 优化渲染结果缓存 | 减少重复渲染 |
| 代码分割 | 按路由分割代码 | 减少初始包大小 |
| 图片优化 | 图片懒加载和压缩 | 减少资源加载时间 |
| 内存管理 | 主动释放不用资源 | 控制内存使用 |

**懒加载实现示例**：

```typescript
// src/renderer/utils/lazyLoad.ts
export function useLazyLoad(options?: LazyLoadOptions) {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const el = entry.target as HTMLElement;
        const callback = el.dataset.lazyCallback;
        if (callback) {
          // 执行加载回调
        }
        observer.unobserve(el);
      }
    });
  }, {
    rootMargin: options?.rootMargin ?? '100px',
    threshold: options?.threshold ?? 0,
  });
  
  return {
    observe: (el: HTMLElement) => observer.observe(el),
    unobserve: (el: HTMLElement) => observer.unobserve(el),
    disconnect: () => observer.disconnect(),
  };
}
```

**验收标准**：
- [ ] 虚拟滚动实现
- [ ] 懒加载实现
- [ ] 缓存优化实现
- [ ] 性能指标达标

---

### 任务 5.5：文档完善（0.5天）

#### 5.5.1 API 文档

**描述**：完善 API 文档

**文档清单**：
- [ ] ViewerApp API 文档
- [ ] 插件系统 API 文档
- [ ] 配置选项文档
- [ ] 事件系统文档

#### 5.5.2 开发者指南

**描述**：编写开发者指南

**内容**：
- 快速开始
- 项目结构说明
- 开发环境配置
- 调试指南
- 贡献指南

---

## 阶段完成标准

### 必须完成项

- [ ] 单元测试覆盖率 ≥ 80%
- [ ] 核心模块覆盖率 ≥ 90%
- [ ] 集成测试通过
- [ ] E2E 测试通过
- [ ] 性能指标达标
- [ ] 文档完善

### 质量要求

| 测试类型 | 要求 |
|---------|------|
| 单元测试 | 全部通过 |
| 集成测试 | 全部通过 |
| E2E 测试 | 全部通过 |
| 性能测试 | 全部达标 |

### 性能指标

| 指标 | 目标值 | 验收结果 |
|------|--------|---------|
| 首次启动时间 | < 2秒 | [ ] |
| 卡片打开时间 | < 500ms | [ ] |
| 内存占用（空闲） | < 200MB | [ ] |
| 应用包大小 | < 100MB | [ ] |

### 提交记录

完成后应有以下 Git 提交：
1. `test: 添加核心模块单元测试`
2. `test: 添加服务层单元测试`
3. `test: 添加集成测试`
4. `test: 添加 E2E 测试`
5. `perf: 实施性能优化`
6. `docs: 完善 API 文档`
7. `chore: v1.0.0 发布准备`

---

## 发布检查清单

### 功能检查

- [ ] 打开卡片文件正常
- [ ] 打开箱子文件正常
- [ ] 导航功能正常
- [ ] 插件系统正常
- [ ] 主题切换正常
- [ ] 快捷键正常
- [ ] 缩放功能正常

### 兼容性检查

- [ ] Windows 平台测试通过
- [ ] macOS 平台测试通过
- [ ] Linux 平台测试通过
- [ ] Web 模式测试通过

### 安全检查

- [ ] CSP 策略配置正确
- [ ] 插件沙箱有效
- [ ] 无 XSS 漏洞
- [ ] 无敏感信息泄露

### 打包检查

- [ ] 生产构建成功
- [ ] 包大小符合预期
- [ ] 安装包正常运行

---

**项目完成标准**：所有测试通过，性能达标，文档完善，可以发布 1.0.0 版本。
